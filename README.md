# SuwonInfo

+ 수원대학교 기반 커뮤니티 서비스에서 시작하여, 높은 수준의 트래픽(대용량 1,000만 건 데이터) 확장 상황을 가정하고 병목을 수치적으로 개선한 프로젝트입니다

## 📌 프로젝트 목표
+ 개발 기간: 2023.03 ~ 2023.08 (초기 개발) / 2025.08 ~ 2025.12 (성능 개선 및 리팩토링) 
+ 역할: Backend Developer (기여도 100% - 백엔드 전체 설계 및 구현) 
+ GitHub: https://github.com/lenac115/suwoninfo-project

## 🛠 사용한 기술
+ Language & Framework: Java, Spring Boot, Spring MVC, Spring Data JPA 
+ Security: Spring Security, JWT 
+ Database & Cache: MySQL, Redis 
+ Infra & Testing: Docker, JMeter, JUnit5

## 💡 서비스 도메인 및 기본 기능
본 프로젝트는 대학 커뮤니티(게시판) 도메인을 다루고 있으며, 대용량 트래픽 환경에서의 성능 개선에 초점을 맞추고 있습니다.

<details>
<summary><b>기본 어플리케이션 기능 펼쳐보기</b></summary>
<div markdown="1">

* 유저 계정 : JWT 기반 로그인/로그아웃, 회원가입, 프로필 관리
* 게시판 기능 : 카테고리별 게시글 CRUD, 페이징 조회 (수원대학교 기반 학사 공지, 자유게시판 등)
* 부가 기능 : 댓글/대댓글 기능 등

</div>
</details>

## 🔥 핵심 트러블 슈팅 및 성능 최적화 (대용량 트래픽 처리)
리팩토링은 DB 튜닝과 동시성 고려에 집중해서, JMeter를 활용하여 스레드 100~500개 규모의 동시성 부하 테스트를 진행하며 병목을 식별하고 해결했습니다.

# 🚀 대용량 조회 성능 97.5% 개선 및 TPS 70배 향상
100만 건의 게시글 목록 조회 시 발생하던 Full Table Scan과 DB 커넥션 풀 고갈 문제를 DB 복합 인덱스와 Redis 캐싱을 통해 해결했습니다.
+ DB 인덱싱 튜닝 : post_type과 created_at을 조합한 복합 인덱스를 적용했으나 후에 Batch 도입으로 post_type 단일 인덱싱으로 전환했습니다.
+ Redis 조회용 캐싱 : 조회가 가장 빈번한 1페이지 데이터를 Redis에 캐싱하고, Facade 패턴으로 트랜잭션을 분리하여 동시성 이슈를 제어했습니다.
+ 결과 수치 : 평균 응답 속도 1,944ms ➔ 48ms (97.5% 개선), 처리량 17 TPS ➔ 1,202.7 TPS (약 70배 증가) 달성.

# 🏗️ '하이브리드 페이지네이션' 아키텍처 재설계 및 실시간 정합성 보장
데이터가 1,000만 건으로 늘어나며 발생하는 Deep Offset 쿼리 한계와 분산 락(Redis)의 네트워크 오버헤드(에러율 60% 이상)를 해결하기 위해 커서 기반 + 오프셋 하이브리드 페이지네이션을 설계했습니다.
+ Spring Batch 이정표 커서 캐싱 : 4시간 주기로 100페이지 단위의 커서를 커버링 인덱스를 활용해 사전 생성하고 Redis에 캐싱하여 DB 탐색 범위를 대폭 제한했습니다.
+ 실시간 증감 보정 레이어 : 커서 생성 후 발생하는 실시간 추가/삭제 트래픽의 정합성을 맞추기 위해, Redis INCR 명령어(게시글 추가)와 ZSET(게시글 삭제)을 활용해 Offset 보정값을 즉각적으로 계산했습니다.
+ 결과 수치 : 극심한 부하 환경에서 평균 응답 속도 2,343ms ➔ 552ms 단축, 에러율 20~30% ➔ 0% 완전 해소.

# 🛡️ 시스템 가용성(Availability) 및 안정성 확보
외부 캐시 서버 의존도 증가에 따른 SPOF(단일 장애점) 우려를 해소하고, 초기 트래픽 폭주 시의 병목을 방어했습니다.
+ Circuit Breaker 패턴 적용 : Redis 서버 장애 시 연쇄적인 시스템 다운을 막기 위해 서킷 브레이커를 도입했습니다. 타임아웃 발생 시 서킷을 Open하여 DB로 Fallback 하거나 딥 페이징의 경우 Fail-Fast 처리하여 메인 DB의 커넥션 풀을 보호했습니다.
+ Cold Start 웜업 : 서버 기동 직후의 트래픽 몰림으로 인한 타임아웃 에러를 방어하기 위해, 서버 실행 시 Spring Batch를 통해 이정표 캐시를 Redis에 세팅하면서 엔진을 웜업하도록 했습니다.

# 📬 Contact
+ Email : lenac115@naver.com
